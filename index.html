<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Ticketmaster Flickr plugin - Hugh Greenish</title>
        <script type="text/javascript" src="flickr.js"></script>
        <link rel="stylesheet" type="text/css" href="flickr.css" />
    </head>
    <body>
        <div id="description">
            <h2>Flickr Module</h2>
            <h3>What is this?</h3>
            <p>I was asked to make a basic flickr searching JS widget thing for a job interview. I didn't get the job, but I came close. I wasn't allowed to use any external libraries (which seems a little arbitrary, but makes for an interesting challenge) and I had to explain any decisions I had made during the coding process. Also, I was ill in bed while I was doing this so I possibly spent more time on it than it really merited. Ah well...</p>
            <h3>Decisions</h3>
            <ul>
                <li>In the interests of re-useability, and to pre-empt any possible changes to Flickr APIs, I have opted to expose most of the inner workings via a local API on the public <em>flickr</em> method</li>
                <li>I have used no JavaScript libraries within the code - I wasn't certain whether "No plugins" applied to e.g. Sizzle or not.</li>
                <li>All document elements are generated by the JavaScript, with no required elements in the page itself.</li>
                <li>No text content is hard-coded in the JS - all displayed text is defined by the CSS. Normally I would expect this to be handled by a templating library.</li>
                <li>The code assumes a modern browser. Depending on the level of backwards compatibility required, I would anticipate using an existing JavaScript library.</li>
                <li>I've tested the code in the latest versions of Chrome, Firefox and Safari on OSX, and Safari on an iPad</li>
            </ul>
            <h3>API</h3>
            <ul>
                <li>The main exposed API is simply to call <pre>flickr('elementId')</pre> which will construct a navigable, searchable flickr box in the matching element, creating and appending that element if it doesn't already exist.</li>
                <li>More advanced configuration can be defined by calling <em>flickr</em> with a configuration object, which must include an <em>elementId</em>, and optionally any of <em>method, format, api_key, per_page, page </em>and<em> jsoncallback</em> which are applied as per the <a href="http://www.flickr.com/services/api/flickr.photos.search.html">Flickr photo search API</a></li>
                <li>The function to construct the module display is exposed as <pre>flickr.buildModule(elements)</pre> where elements is an empty object for retaining references to the constructed components. At a minimum, this method must define elements.content as the element in which the Flickr results should be displayed.</li>
                <li>The Request, Image and Link URL constructor methods are all exposed on the flickr.urls object:
<pre>flickr.urls.constructRequestUrl(queryStringParameters)
flickr.urls.constructImageUrl(photo)
flickr.urls.constructLinkUrl(photo)</pre>
                    These can be overridden should the Flickr API change.
                </li>
                <li>Navigation APIS are exposed on the flickr.navigation object, allowing them to be bound outside the module:
<pre><a href="javascript: flickr.navigation.goToPreviousPage()">flickr.navigation.goToPreviousPage()</a>
<a href="javascript: flickr.navigation.goToNextPage()">flickr.navigation.goToNextPage()</a>
flickr.navigation.goToPage(pageNumber)</pre>
                </li>
                <li>Searching is exposed on the flickr.search object:
                <pre>flickr.search.performSearch(query)</pre>
                </li>
                <li>Display APIs are exposed on the flickr.display object:
<pre>flickr.display.setCurrentPageNumber(currentPage, numberOfPages)
flickr.display.displayPhoto(photo, parentElement)</pre></li>
                <li>The onData callback is exposed as:
                <pre>flickr.handleFlickrResponse(data)</pre>
                which can be overridden in place, or an alternative callback defined as the <em>jsoncallback</em> config property.</li>
            </ul>
        </div>
    </body>
    <script type="text/javascript">
        (function () {
            flickr({
                elementId: 'flickrPlugin',
                per_page: 12
            });
        }());
    </script>
</html>
